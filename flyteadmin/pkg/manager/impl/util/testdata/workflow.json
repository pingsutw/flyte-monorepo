{
  "primary":{
    "template":{
      "id":{
        "resourceType":"WORKFLOW",
        "project":"flyteexamples",
        "domain":"development",
        "name":"tests-flytekit-common-workflows-python-python-tasks-workflow",
        "version":"123abc"
      },
      "metadata":{

      },
      "interface":{
        "inputs":{
          "variables":{
            "triggered_date":{
              "type":{
                "simple":"DATETIME"
              }
            }
          }
        },
        "outputs":{
          "variables":{

          }
        }
      },
      "nodes":[
        {
          "id":"start-node"
        },
        {
          "id":"end-node"
        },
        {
          "id":"print-always",
          "metadata":{
            "name":"DEADBEEF",
            "timeout":"0s",
            "retries":{

            }
          },
          "inputs":[
            {
              "var":"date_triggered",
              "binding":{
                "promise":{
                  "nodeId":"start-node",
                  "var":"triggered_date"
                }
              }
            },
            {
              "var":"value_to_print",
              "binding":{
                "promise":{
                  "nodeId":"print-sum",
                  "var":"out"
                }
              }
            }
          ],
          "upstreamNodeIds":[
            "print-sum"
          ],
          "taskNode":{
            "referenceId":{
              "resourceType":"TASK",
              "project":"flyteexamples",
              "domain":"development",
              "name":"tests-flytekit-common-workflows-python-print-every-time",
              "version":"123abc"
            }
          }
        },
        {
          "id":"print-sum",
          "metadata":{
            "name":"DEADBEEF",
            "timeout":"0s",
            "retries":{

            }
          },
          "inputs":[
            {
              "var":"value1_to_add",
              "binding":{
                "promise":{
                  "nodeId":"print2",
                  "var":"out"
                }
              }
            },
            {
              "var":"value2_to_add",
              "binding":{
                "promise":{
                  "nodeId":"print3",
                  "var":"out"
                }
              }
            },
            {
              "var":"value3_to_add",
              "binding":{
                "promise":{
                  "nodeId":"print4",
                  "var":"out"
                }
              }
            },
            {
              "var":"value4_to_add",
              "binding":{
                "scalar":{
                  "primitive":{
                    "integer":"100"
                  }
                }
              }
            }
          ],
          "upstreamNodeIds":[
            "print2",
            "print3",
            "print4"
          ],
          "taskNode":{
            "referenceId":{
              "resourceType":"TASK",
              "project":"flyteexamples",
              "domain":"development",
              "name":"tests-flytekit-common-workflows-python-sum-and-print",
              "version":"123abc"
            }
          }
        },
        {
          "id":"print1a",
          "metadata":{
            "name":"DEADBEEF",
            "timeout":"0s",
            "retries":{

            }
          },
          "inputs":[
            {
              "var":"value_to_print",
              "binding":{
                "scalar":{
                  "primitive":{
                    "integer":"3"
                  }
                }
              }
            }
          ],
          "taskNode":{
            "referenceId":{
              "resourceType":"TASK",
              "project":"flyteexamples",
              "domain":"development",
              "name":"tests-flytekit-common-workflows-python-add-one-and-print",
              "version":"123abc"
            }
          }
        },
        {
          "id":"print1b",
          "metadata":{
            "name":"DEADBEEF",
            "timeout":"0s",
            "retries":{

            }
          },
          "inputs":[
            {
              "var":"value_to_print",
              "binding":{
                "scalar":{
                  "primitive":{
                    "integer":"101"
                  }
                }
              }
            }
          ],
          "taskNode":{
            "referenceId":{
              "resourceType":"TASK",
              "project":"flyteexamples",
              "domain":"development",
              "name":"tests-flytekit-common-workflows-python-add-one-and-print",
              "version":"123abc"
            }
          }
        },
        {
          "id":"print2",
          "metadata":{
            "name":"DEADBEEF",
            "timeout":"0s",
            "retries":{

            }
          },
          "inputs":[
            {
              "var":"value1_to_print",
              "binding":{
                "promise":{
                  "nodeId":"print1a",
                  "var":"out"
                }
              }
            },
            {
              "var":"value2_to_print",
              "binding":{
                "promise":{
                  "nodeId":"print1b",
                  "var":"out"
                }
              }
            }
          ],
          "upstreamNodeIds":[
            "print1a",
            "print1b"
          ],
          "taskNode":{
            "referenceId":{
              "resourceType":"TASK",
              "project":"flyteexamples",
              "domain":"development",
              "name":"tests-flytekit-common-workflows-python-sum-non-none",
              "version":"123abc"
            }
          }
        },
        {
          "id":"print3",
          "metadata":{
            "name":"DEADBEEF",
            "timeout":"0s",
            "retries":{

            }
          },
          "inputs":[
            {
              "var":"value_to_print",
              "binding":{
                "promise":{
                  "nodeId":"print2",
                  "var":"out"
                }
              }
            }
          ],
          "upstreamNodeIds":[
            "print2"
          ],
          "taskNode":{
            "referenceId":{
              "resourceType":"TASK",
              "project":"flyteexamples",
              "domain":"development",
              "name":"tests-flytekit-common-workflows-python-add-one-and-print",
              "version":"123abc"
            }
          }
        },
        {
          "id":"print4",
          "metadata":{
            "name":"DEADBEEF",
            "timeout":"0s",
            "retries":{

            }
          },
          "inputs":[
            {
              "var":"value_to_print",
              "binding":{
                "promise":{
                  "nodeId":"print3",
                  "var":"out"
                }
              }
            }
          ],
          "upstreamNodeIds":[
            "print3"
          ],
          "taskNode":{
            "referenceId":{
              "resourceType":"TASK",
              "project":"flyteexamples",
              "domain":"development",
              "name":"tests-flytekit-common-workflows-python-add-one-and-print",
              "version":"123abc"
            }
          }
        }
      ]
    },
    "connections":{
      "downstream":{
        "print-sum":{
          "ids":[
            "print-always",
            "print-always"
          ]
        },
        "print1a":{
          "ids":[
            "print2",
            "print2"
          ]
        },
        "print1b":{
          "ids":[
            "print2",
            "print2"
          ]
        },
        "print2":{
          "ids":[
            "print3",
            "print3",
            "print-sum",
            "print-sum"
          ]
        },
        "print3":{
          "ids":[
            "print4",
            "print4",
            "print-sum",
            "print-sum"
          ]
        },
        "print4":{
          "ids":[
            "print-sum",
            "print-sum"
          ]
        },
        "start-node":{
          "ids":[
            "print-always",
            "print1a",
            "print1b"
          ]
        }
      },
      "upstream":{
        "print-always":{
          "ids":[
            "",
            "print-sum",
            "start-node",
            "print-sum"
          ]
        },
        "print-sum":{
          "ids":[
            "",
            "print2",
            "print3",
            "print4",
            "print2",
            "print3",
            "print4"
          ]
        },
        "print1a":{
          "ids":[
            "",
            "start-node"
          ]
        },
        "print1b":{
          "ids":[
            "",
            "start-node"
          ]
        },
        "print2":{
          "ids":[
            "",
            "print1a",
            "print1b",
            "print1a",
            "print1b"
          ]
        },
        "print3":{
          "ids":[
            "",
            "print2",
            "print2"
          ]
        },
        "print4":{
          "ids":[
            "",
            "print3",
            "print3"
          ]
        }
      }
    }
  },
  "tasks":[
    {
      "template":{
        "id":{
          "resourceType":"TASK",
          "project":"flyteexamples",
          "domain":"development",
          "name":"tests-flytekit-common-workflows-python-add-one-and-print",
          "version":"123abc"
        },
        "type":"python-task",
        "metadata":{
          "runtime":{
            "type":"FLYTE_SDK",
            "version":"0.0.1a0",
            "flavor":"python"
          },
          "timeout":"0s",
          "retries":{

          },
          "discoveryVersion":"1"
        },
        "interface":{
          "inputs":{
            "variables":{
              "value_to_print":{
                "type":{
                  "simple":"INTEGER"
                }
              }
            }
          },
          "outputs":{
            "variables":{
              "out":{
                "type":{
                  "simple":"INTEGER"
                }
              }
            }
          }
        },
        "container":{
          "image":"myflyteimage:abc123",
          "command":[
            "pyflyte-execute"
          ],
          "args":[
            "--task-module",
            "tests.flytekit.common.workflows.python",
            "--task-name",
            "add_one_and_print",
            "--inputs",
            "{{.input}}",
            "--output-prefix",
            "{{.outputPrefix}}"
          ],
          "resources":{

          },
          "env":[
            {
              "key":"FLYTE_INTERNAL_CONFIGURATION_PATH",
              "value":"/flyte/local.config"
            }
          ]
        }
      }
    },
    {
      "template":{
        "id":{
          "resourceType":"TASK",
          "project":"flyteexamples",
          "domain":"development",
          "name":"tests-flytekit-common-workflows-python-print-every-time",
          "version":"123abc"
        },
        "type":"python-task",
        "metadata":{
          "runtime":{
            "type":"FLYTE_SDK",
            "version":"0.0.1a0",
            "flavor":"python"
          },
          "timeout":"0s",
          "retries":{

          },
          "discoveryVersion":"1"
        },
        "interface":{
          "inputs":{
            "variables":{
              "date_triggered":{
                "type":{
                  "simple":"DATETIME"
                }
              },
              "value_to_print":{
                "type":{
                  "simple":"INTEGER"
                }
              }
            }
          },
          "outputs":{
            "variables":{

            }
          }
        },
        "container":{
          "image":"myflyteimage:abc123",
          "command":[
            "pyflyte-execute"
          ],
          "args":[
            "--task-module",
            "tests.flytekit.common.workflows.python",
            "--task-name",
            "print_every_time",
            "--inputs",
            "{{.input}}",
            "--output-prefix",
            "{{.outputPrefix}}"
          ],
          "resources":{

          },
          "env":[
            {
              "key":"FLYTE_INTERNAL_CONFIGURATION_PATH",
              "value":"/flyte/local.config"
            }
          ]
        }
      }
    },
    {
      "template":{
        "id":{
          "resourceType":"TASK",
          "project":"flyteexamples",
          "domain":"development",
          "name":"tests-flytekit-common-workflows-python-sum-and-print",
          "version":"123abc"
        },
        "type":"python-task",
        "metadata":{
          "runtime":{
            "type":"FLYTE_SDK",
            "version":"0.0.1a0",
            "flavor":"python"
          },
          "timeout":"0s",
          "retries":{

          },
          "discoveryVersion":"1"
        },
        "interface":{
          "inputs":{
            "variables":{
              "value1_to_add":{
                "type":{
                  "simple":"INTEGER"
                }
              },
              "value2_to_add":{
                "type":{
                  "simple":"INTEGER"
                }
              },
              "value3_to_add":{
                "type":{
                  "simple":"INTEGER"
                }
              },
              "value4_to_add":{
                "type":{
                  "simple":"INTEGER"
                }
              }
            }
          },
          "outputs":{
            "variables":{
              "out":{
                "type":{
                  "simple":"INTEGER"
                }
              }
            }
          }
        },
        "container":{
          "image":"myflyteimage:abc123",
          "command":[
            "pyflyte-execute"
          ],
          "args":[
            "--task-module",
            "tests.flytekit.common.workflows.python",
            "--task-name",
            "sum_and_print",
            "--inputs",
            "{{.input}}",
            "--output-prefix",
            "{{.outputPrefix}}"
          ],
          "resources":{

          },
          "env":[
            {
              "key":"FLYTE_INTERNAL_CONFIGURATION_PATH",
              "value":"/flyte/local.config"
            }
          ]
        }
      }
    },
    {
      "template":{
        "id":{
          "resourceType":"TASK",
          "project":"flyteexamples",
          "domain":"development",
          "name":"tests-flytekit-common-workflows-python-sum-non-none",
          "version":"123abc"
        },
        "type":"python-task",
        "metadata":{
          "runtime":{
            "type":"FLYTE_SDK",
            "version":"0.0.1a0",
            "flavor":"python"
          },
          "timeout":"0s",
          "retries":{

          },
          "discoveryVersion":"1"
        },
        "interface":{
          "inputs":{
            "variables":{
              "value1_to_print":{
                "type":{
                  "simple":"INTEGER"
                }
              },
              "value2_to_print":{
                "type":{
                  "simple":"INTEGER"
                }
              }
            }
          },
          "outputs":{
            "variables":{
              "out":{
                "type":{
                  "simple":"INTEGER"
                }
              }
            }
          }
        },
        "container":{
          "image":"myflyteimage:abc123",
          "command":[
            "pyflyte-execute"
          ],
          "args":[
            "--task-module",
            "tests.flytekit.common.workflows.python",
            "--task-name",
            "sum_non_none",
            "--inputs",
            "{{.input}}",
            "--output-prefix",
            "{{.outputPrefix}}"
          ],
          "resources":{

          },
          "env":[
            {
              "key":"FLYTE_INTERNAL_CONFIGURATION_PATH",
              "value":"/flyte/local.config"
            }
          ]
        }
      }
    }
  ]
}
